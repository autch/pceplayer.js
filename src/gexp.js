'use strict';

const expt = [
    32768,
    34716,
    36781,
    38968,
    41285,
    43740,
    46341,
    49097,
    52016,
    55109,
    58386,
    61858,
];
const expb = [
    1948,
    2064,
    2187,
    2317,
    2455,
    2601,
    2756,
    2919,
    3093,
    3277,
    3472,
    3678,
];
const div12t1 = [
    0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, // 0
    0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, // 1
    0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, // 2
    0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, // 3
    0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, // 4
    0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, // 5
    0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, // 6
    0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, // 7
    0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, // 8
    0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, // 9
    0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, // 10
    0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, // 11
    0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, // 12
    0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, // 13
    0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, // 14
    0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, // 15
    0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, // 16
    0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, // 17
    0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, // 18
    0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, // 19
    0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, // 20
    0, 1, 2, 3, 					 // 21
];
const div12t2 = [
    16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, //  0
    16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, //  1
    16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, //  2
    16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, //  3
    16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, //  4
    15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, //  5
    14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, //  6
    13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, //  7
    12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, //  8
    11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, //  9
    10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, // 10
    9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, // 11
    8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, // 12
    7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, // 13
    6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, // 14
    5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, // 15
    4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, // 16
    3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, // 17
    2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, // 18
    1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, // 19
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, // 20
    0, 0, 0, 0,				   // 21
];

exports.gexp = function (n) {
    let a = n >> 8;
    let b = div12t1[a];

    return (expt[b] + ((expb[b] * (n & 0xff)) >> 8)) >> div12t2[a];
};
